<select id="mode" autocomplete="off" required>
  <option value="plain" selected>plain</option>
  <option value="formula">formula</option>
  <option value="code">code</option>
  <option value="voice">voice</option>
  <option value="history">history</option>
  <option value="TODO">⚠️DEVELOPER MODE⚠️</option>
</select>

<style is:global>
  .invisible {
    display: none;
  }
</style>

<script is:inline>
const selectElement = document.getElementById("mode");
console.log(selectElement);
const visibility_update = function () {
  for (const label of [
    "plain",
    "formal",
    "code",
    "voice",
    "history",
    "TODO",
  ]) {
    for (const elem of document.getElementsByClassName(label)) {
      elem.classList.add("invisible");
    }
  }

  for (const elem of document.getElementsByClassName(selectElement.value)) {
    elem.classList.remove("invisible");
  }
};
selectElement.addEventListener("change", visibility_update);
document.addEventListener("DOMContentLoaded", visibility_update);
</script>
